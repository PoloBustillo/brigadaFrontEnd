# ğŸ›ï¸ Diagrama de Arquitectura Propuesta - BrigadÃ¡ App

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           ğŸ“± BRIGADÃ MOBILE APP                              â”‚
â”‚                         (React Native + Expo)                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                          ğŸ¨ PRESENTATION LAYER                               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Screens    â”‚  â”‚  Components  â”‚  â”‚   Layouts    â”‚  â”‚     Hooks    â”‚  â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚
â”‚  â”‚ â€¢ Welcome    â”‚  â”‚ â€¢ Button     â”‚  â”‚ â€¢ Splash     â”‚  â”‚ â€¢ useAuth    â”‚  â”‚
â”‚  â”‚ â€¢ Login      â”‚  â”‚ â€¢ Input      â”‚  â”‚ â€¢ TabBar     â”‚  â”‚ â€¢ useSurveys â”‚  â”‚
â”‚  â”‚ â€¢ Surveys    â”‚  â”‚ â€¢ Card       â”‚  â”‚ â€¢ Drawer     â”‚  â”‚ â€¢ useProfile â”‚  â”‚
â”‚  â”‚ â€¢ Profile    â”‚  â”‚ â€¢ Badge      â”‚  â”‚              â”‚  â”‚ â€¢ useSync    â”‚  â”‚
â”‚  â”‚ â€¢ Settings   â”‚  â”‚ â€¢ Alert      â”‚  â”‚              â”‚  â”‚              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â”‚  Feature-Based Structure:                                                   â”‚
â”‚  features/                                                                   â”‚
â”‚    â”œâ”€â”€ auth/                                                                 â”‚
â”‚    â”‚   â”œâ”€â”€ components/                                                       â”‚
â”‚    â”‚   â”œâ”€â”€ screens/                                                          â”‚
â”‚    â”‚   â”œâ”€â”€ hooks/                                                            â”‚
â”‚    â”‚   â””â”€â”€ types/                                                            â”‚
â”‚    â”œâ”€â”€ surveys/                                                              â”‚
â”‚    â””â”€â”€ profile/                                                              â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        ğŸ§  STATE MANAGEMENT LAYER                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚   React Context    â”‚      â”‚   Zustand Stores   â”‚                        â”‚
â”‚  â”‚                    â”‚      â”‚                    â”‚                        â”‚
â”‚  â”‚ â€¢ AuthContext      â”‚â—„â”€â”€â”€â”€â–ºâ”‚ â€¢ authStore        â”‚                        â”‚
â”‚  â”‚ â€¢ ThemeContext     â”‚      â”‚ â€¢ uiStore          â”‚                        â”‚
â”‚  â”‚                    â”‚      â”‚ â€¢ offlineStore     â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚            ğŸ”„ React Query                        â”‚                        â”‚
â”‚  â”‚                                                   â”‚                        â”‚
â”‚  â”‚  â€¢ Data fetching & caching                       â”‚                        â”‚
â”‚  â”‚  â€¢ Automatic refetching                          â”‚                        â”‚
â”‚  â”‚  â€¢ Optimistic updates                            â”‚                        â”‚
â”‚  â”‚  â€¢ Infinite queries                              â”‚                        â”‚
â”‚  â”‚  â€¢ Mutations with invalidation                   â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ğŸ”Œ BUSINESS LOGIC LAYER                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         ğŸ“¡ Services                                    â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚  â”‚ Auth Service â”‚  â”‚Survey Serviceâ”‚  â”‚ Sync Service â”‚              â”‚ â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚              â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ login()    â”‚  â”‚ â€¢ get()      â”‚  â”‚ â€¢ queue()    â”‚              â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ logout()   â”‚  â”‚ â€¢ submit()   â”‚  â”‚ â€¢ sync()     â”‚              â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ refresh()  â”‚  â”‚ â€¢ save()     â”‚  â”‚ â€¢ retry()    â”‚              â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ verify()   â”‚  â”‚              â”‚  â”‚              â”‚              â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                         ğŸŒ API Layer                                   â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚ â”‚
â”‚  â”‚  â”‚                    Axios Instance                              â”‚  â”‚ â”‚
â”‚  â”‚  â”‚                                                                 â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Base URL configuration                                      â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Request Interceptor (add JWT token)                        â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Response Interceptor (handle 401, refresh token)           â”‚  â”‚ â”‚
â”‚  â”‚  â”‚  â€¢ Error handler (network errors, timeouts)                   â”‚  â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚ â”‚
â”‚  â”‚  â”‚  survey.api  â”‚  â”‚   user.api   â”‚  â”‚  files.api   â”‚              â”‚ â”‚
â”‚  â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚              â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ GET        â”‚  â”‚ â€¢ GET        â”‚  â”‚ â€¢ POST       â”‚              â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ POST       â”‚  â”‚ â€¢ PUT        â”‚  â”‚ â€¢ DELETE     â”‚              â”‚ â”‚
â”‚  â”‚  â”‚ â€¢ PUT        â”‚  â”‚              â”‚  â”‚              â”‚              â”‚ â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚                     âœ… Validation Layer (Zod)                         â”‚ â”‚
â”‚  â”‚                                                                        â”‚ â”‚
â”‚  â”‚  â€¢ auth.schema.ts      (login, register)                             â”‚ â”‚
â”‚  â”‚  â€¢ survey.schema.ts    (questions, responses)                        â”‚ â”‚
â”‚  â”‚  â€¢ profile.schema.ts   (user data)                                   â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ğŸ’¾ DATA PERSISTENCE LAYER                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚  ğŸ—„ï¸ SQLite DB      â”‚      â”‚ ğŸ” Secure Storage  â”‚                        â”‚
â”‚  â”‚  (Expo SQLite)     â”‚      â”‚ (Expo SecureStore) â”‚                        â”‚
â”‚  â”‚                    â”‚      â”‚                    â”‚                        â”‚
â”‚  â”‚ â€¢ Drizzle ORM      â”‚      â”‚ â€¢ JWT tokens       â”‚                        â”‚
â”‚  â”‚ â€¢ Migrations       â”‚      â”‚ â€¢ Refresh tokens   â”‚                        â”‚
â”‚  â”‚                    â”‚      â”‚ â€¢ Sensitive data   â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                        â”‚
â”‚  â”‚     ğŸ“¦ Repositories                              â”‚                        â”‚
â”‚  â”‚                                                   â”‚                        â”‚
â”‚  â”‚  â€¢ SurveyRepository    (CRUD surveys)            â”‚                        â”‚
â”‚  â”‚  â€¢ ResponseRepository  (CRUD responses)          â”‚                        â”‚
â”‚  â”‚  â€¢ SyncRepository      (sync queue)              â”‚                        â”‚
â”‚  â”‚  â€¢ FileRepository      (attachments)             â”‚                        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                        â”‚
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                     â”‚
â”‚  â”‚ ğŸ’¿ AsyncStorage    â”‚  (Non-sensitive data)                               â”‚
â”‚  â”‚                    â”‚                                                     â”‚
â”‚  â”‚ â€¢ User preferences â”‚                                                     â”‚
â”‚  â”‚ â€¢ App settings     â”‚                                                     â”‚
â”‚  â”‚ â€¢ Theme config     â”‚                                                     â”‚
â”‚  â”‚ â€¢ Language         â”‚                                                     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                     â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                      â”‚
                                      â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      ğŸŒ EXTERNAL SERVICES                                    â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Backend    â”‚  â”‚   Storage    â”‚  â”‚  Analytics   â”‚  â”‚Push Notif.   â”‚  â”‚
â”‚  â”‚     API      â”‚  â”‚   (S3/CDN)   â”‚  â”‚  (Sentry)    â”‚  â”‚  (Firebase)  â”‚  â”‚
â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚              â”‚  â”‚
â”‚  â”‚ REST API     â”‚  â”‚ File uploads â”‚  â”‚ Error track  â”‚  â”‚ Messages     â”‚  â”‚
â”‚  â”‚ GraphQL (?)  â”‚  â”‚ Images       â”‚  â”‚ Performance  â”‚  â”‚ Reminders    â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ”„ Flujo de Datos

### **1. AutenticaciÃ³n**

```
User Input (email/password)
    â†“
LoginScreen (validates with Zod)
    â†“
useAuth hook
    â†“
AuthService.login()
    â†“
Axios POST /auth/login (with interceptor)
    â†“
Backend API validates credentials
    â†“
Returns { user, tokens }
    â†“
AuthService saves:
  - Tokens â†’ SecureStore
  - User â†’ AsyncStorage
    â†“
AuthContext updates state
    â†“
App navigates to (tabs)
```

### **2. Fetch Surveys (con React Query)**

```
SurveyListScreen mounts
    â†“
useSurveys() hook
    â†“
React Query checks cache
    â†“
If stale: surveyAPI.getAssignedSurveys()
    â†“
Axios GET /surveys/assigned
  - Interceptor adds JWT token
    â†“
Backend returns surveys[]
    â†“
React Query caches result
    â†“
Component receives data
    â†“
Renders list with FlashList
```

### **3. Submit Survey (Offline-First)**

```
User completes survey
    â†“
Validates with Zod
    â†“
useSubmitResponse() mutation
    â†“
Check network status (NetInfo)
    â†“
If OFFLINE:
  - Save to SQLite (ResponseRepository)
  - Add to sync queue (SyncRepository)
  - Show success toast
    â†“
If ONLINE:
  - surveyAPI.submitResponse()
  - Axios POST /responses (with retry logic)
  - On success: mark as synced
  - On fail: add to sync queue
    â†“
React Query invalidates cache
    â†“
UI updates automatically
```

### **4. Background Sync**

```
App comes online (NetInfo event)
    â†“
SyncService.syncPendingResponses()
    â†“
Fetch pending from SyncRepository
    â†“
Batch upload to API
    â†“
surveyAPI.syncPendingResponses(batch)
    â†“
Axios POST /responses/batch
    â†“
On success:
  - Mark as synced in SQLite
  - Remove from queue
  - Show notification
    â†“
On fail:
  - Keep in queue
  - Retry with exponential backoff
```

---

## ğŸ” Security Flow

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      SECURITY LAYERS                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. INPUT VALIDATION (Zod schemas)                              â”‚
â”‚     â””â”€ Prevent injection, XSS                                   â”‚
â”‚                                                                  â”‚
â”‚  2. JWT AUTHENTICATION                                          â”‚
â”‚     â”œâ”€ Access Token (15 min expiry)                             â”‚
â”‚     â”œâ”€ Refresh Token (7 days)                                   â”‚
â”‚     â””â”€ Stored in SecureStore (encrypted)                        â”‚
â”‚                                                                  â”‚
â”‚  3. HTTPS ONLY                                                  â”‚
â”‚     â””â”€ TLS 1.3 for all API calls                                â”‚
â”‚                                                                  â”‚
â”‚  4. TOKEN ROTATION                                              â”‚
â”‚     â”œâ”€ Auto-refresh on 401                                      â”‚
â”‚     â”œâ”€ Logout on refresh failure                                â”‚
â”‚     â””â”€ Blacklist old tokens on backend                          â”‚
â”‚                                                                  â”‚
â”‚  5. DATA ENCRYPTION                                             â”‚
â”‚     â”œâ”€ SQLite encrypted at rest (optional)                      â”‚
â”‚     â”œâ”€ SecureStore for sensitive data                           â”‚
â”‚     â””â”€ AsyncStorage for non-sensitive only                      â”‚
â”‚                                                                  â”‚
â”‚  6. ERROR HANDLING                                              â”‚
â”‚     â”œâ”€ No sensitive data in logs                                â”‚
â”‚     â”œâ”€ Generic error messages to user                           â”‚
â”‚     â””â”€ Detailed logs to Sentry (sanitized)                      â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š Performance Optimizations

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   PERFORMANCE STRATEGIES                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  1. REACT OPTIMIZATION                                          â”‚
â”‚     â”œâ”€ React.memo() on heavy components                         â”‚
â”‚     â”œâ”€ useCallback() for event handlers                         â”‚
â”‚     â”œâ”€ useMemo() for expensive calculations                     â”‚
â”‚     â””â”€ React.lazy() for code splitting                          â”‚
â”‚                                                                  â”‚
â”‚  2. LIST VIRTUALIZATION                                         â”‚
â”‚     â”œâ”€ FlashList for long lists                                 â”‚
â”‚     â”œâ”€ estimatedItemSize configured                             â”‚
â”‚     â””â”€ getItemType for mixed content                            â”‚
â”‚                                                                  â”‚
â”‚  3. DATA CACHING                                                â”‚
â”‚     â”œâ”€ React Query cache (5-10 min)                             â”‚
â”‚     â”œâ”€ SQLite for offline cache                                 â”‚
â”‚     â””â”€ expo-image for image cache                               â”‚
â”‚                                                                  â”‚
â”‚  4. NETWORK OPTIMIZATION                                        â”‚
â”‚     â”œâ”€ Request deduplication (React Query)                      â”‚
â”‚     â”œâ”€ Batch API calls when possible                            â”‚
â”‚     â”œâ”€ Pagination for large datasets                            â”‚
â”‚     â””â”€ Compression (gzip/brotli)                                â”‚
â”‚                                                                  â”‚
â”‚  5. ASSET OPTIMIZATION                                          â”‚
â”‚     â”œâ”€ Image optimization (WebP)                                â”‚
â”‚     â”œâ”€ Lazy load images (blurhash)                              â”‚
â”‚     â”œâ”€ Vector icons (no raster)                                 â”‚
â”‚     â””â”€ Font subsetting                                          â”‚
â”‚                                                                  â”‚
â”‚  6. ANIMATION PERFORMANCE                                       â”‚
â”‚     â”œâ”€ useNativeDriver: true                                    â”‚
â”‚     â”œâ”€ React Native Reanimated for complex                      â”‚
â”‚     â””â”€ Avoid animating layout properties                        â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ§ª Testing Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      TESTING PYRAMID                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚                         /\                                       â”‚
â”‚                        /  \      E2E Tests (Detox)              â”‚
â”‚                       /    \     â€¢ Critical user flows          â”‚
â”‚                      /  10% \    â€¢ Auth, Survey, Sync           â”‚
â”‚                     /â”€â”€â”€â”€â”€â”€â”€â”€\                                   â”‚
â”‚                    /          \                                  â”‚
â”‚                   / Integration\  Integration Tests             â”‚
â”‚                  /     30%      \ â€¢ API calls                    â”‚
â”‚                 /                \ â€¢ Repository tests            â”‚
â”‚                /â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\                              â”‚
â”‚               /                    \                             â”‚
â”‚              /    Unit Tests        \ Unit Tests                 â”‚
â”‚             /        60%             \ â€¢ Services                â”‚
â”‚            /                          \ â€¢ Hooks                  â”‚
â”‚           /____________________________\ â€¢ Components            â”‚
â”‚                                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚  â”‚  TESTING TOOLS                                             â”‚ â”‚
â”‚  â”‚                                                             â”‚ â”‚
â”‚  â”‚  â€¢ Jest                 - Test runner                      â”‚ â”‚
â”‚  â”‚  â€¢ Testing Library      - Component tests                  â”‚ â”‚
â”‚  â”‚  â€¢ Detox                - E2E testing                      â”‚ â”‚
â”‚  â”‚  â€¢ MSW                  - API mocking                      â”‚ â”‚
â”‚  â”‚  â€¢ React Query DevTools - Query debugging                 â”‚ â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸš€ Deployment Pipeline

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CI/CD PIPELINE                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                  â”‚
â”‚  git push origin main                                           â”‚
â”‚        â†“                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                            â”‚
â”‚  â”‚ GitHub Actions  â”‚                                            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                            â”‚
â”‚        â†“                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  STAGE 1: Code Quality                          â”‚            â”‚
â”‚  â”‚                                                  â”‚            â”‚
â”‚  â”‚  âœ“ ESLint                                       â”‚            â”‚
â”‚  â”‚  âœ“ TypeScript check                             â”‚            â”‚
â”‚  â”‚  âœ“ Prettier format check                        â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚        â†“                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  STAGE 2: Testing                               â”‚            â”‚
â”‚  â”‚                                                  â”‚            â”‚
â”‚  â”‚  âœ“ Unit tests (Jest)                            â”‚            â”‚
â”‚  â”‚  âœ“ Integration tests                            â”‚            â”‚
â”‚  â”‚  âœ“ Coverage report (>80%)                       â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚        â†“                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  STAGE 3: Build                                 â”‚            â”‚
â”‚  â”‚                                                  â”‚            â”‚
â”‚  â”‚  âœ“ EAS Build (development)                      â”‚            â”‚
â”‚  â”‚  âœ“ Generate APK/IPA                             â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚        â†“                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  STAGE 4: E2E Testing (optional)                â”‚            â”‚
â”‚  â”‚                                                  â”‚            â”‚
â”‚  â”‚  âœ“ Detox tests on emulator                      â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚        â†“                                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”            â”‚
â”‚  â”‚  STAGE 5: Deploy                                â”‚            â”‚
â”‚  â”‚                                                  â”‚            â”‚
â”‚  â”‚  âœ“ Upload to TestFlight (iOS)                   â”‚            â”‚
â”‚  â”‚  âœ“ Upload to Play Store Internal (Android)     â”‚            â”‚
â”‚  â”‚  âœ“ Notify team on Slack                         â”‚            â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜            â”‚
â”‚                                                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“± App Bundle Structure

```
brigadaFrontEnd/
â”œâ”€â”€ app/                        # ğŸ¯ Expo Router screens
â”‚   â”œâ”€â”€ (auth)/                 # Auth stack (public)
â”‚   â”‚   â”œâ”€â”€ _layout.tsx
â”‚   â”‚   â”œâ”€â”€ login.tsx
â”‚   â”‚   â””â”€â”€ register.tsx
â”‚   â”œâ”€â”€ (tabs)/                 # Main app (protected)
â”‚   â”‚   â”œâ”€â”€ _layout.tsx
â”‚   â”‚   â”œâ”€â”€ index.tsx           # Home/Surveys
â”‚   â”‚   â”œâ”€â”€ explore.tsx         # Map/Stats
â”‚   â”‚   â””â”€â”€ profile.tsx
â”‚   â””â”€â”€ _layout.tsx             # Root layout
â”‚
â”œâ”€â”€ features/                   # ğŸ“¦ Feature modules
â”‚   â”œâ”€â”€ auth/
â”‚   â”‚   â”œâ”€â”€ components/
â”‚   â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ hooks/
â”‚   â”‚   â””â”€â”€ types/
â”‚   â”œâ”€â”€ surveys/
â”‚   â””â”€â”€ profile/
â”‚
â”œâ”€â”€ components/                 # ğŸ§© Shared UI components
â”‚   â”œâ”€â”€ ui/                     # Base components
â”‚   â””â”€â”€ layout/                 # Layout components
â”‚
â”œâ”€â”€ lib/                        # ğŸ› ï¸ Core libraries
â”‚   â”œâ”€â”€ api/                    # API clients
â”‚   â”‚   â”œâ”€â”€ axios-instance.ts
â”‚   â”‚   â”œâ”€â”€ survey.api.ts
â”‚   â”‚   â””â”€â”€ user.api.ts
â”‚   â”œâ”€â”€ db/                     # Database layer
â”‚   â”‚   â”œâ”€â”€ database.ts
â”‚   â”‚   â”œâ”€â”€ schema.ts
â”‚   â”‚   â”œâ”€â”€ migrations.ts
â”‚   â”‚   â””â”€â”€ repositories/
â”‚   â”œâ”€â”€ services/               # Business services
â”‚   â”‚   â”œâ”€â”€ auth.service.ts
â”‚   â”‚   â”œâ”€â”€ sync.service.ts
â”‚   â”‚   â””â”€â”€ notification.service.ts
â”‚   â”œâ”€â”€ validation/             # Zod schemas
â”‚   â””â”€â”€ utils/                  # Utilities
â”‚
â”œâ”€â”€ store/                      # ğŸ“Š Global state
â”‚   â”œâ”€â”€ auth.store.ts
â”‚   â”œâ”€â”€ ui.store.ts
â”‚   â””â”€â”€ offline.store.ts
â”‚
â”œâ”€â”€ contexts/                   # âš›ï¸ React contexts
â”‚   â”œâ”€â”€ auth.context.tsx
â”‚   â””â”€â”€ theme.context.tsx
â”‚
â”œâ”€â”€ hooks/                      # ğŸª Custom hooks
â”‚   â”œâ”€â”€ useAuth.ts
â”‚   â”œâ”€â”€ useSurveys.ts
â”‚   â””â”€â”€ useNetworkStatus.ts
â”‚
â”œâ”€â”€ constants/                  # ğŸ¨ Design tokens
â”‚   â”œâ”€â”€ colors.ts
â”‚   â”œâ”€â”€ typography.ts
â”‚   â””â”€â”€ spacing.ts
â”‚
â”œâ”€â”€ types/                      # ğŸ“ TypeScript types
â”‚   â”œâ”€â”€ api.types.ts
â”‚   â”œâ”€â”€ survey.types.ts
â”‚   â””â”€â”€ user.types.ts
â”‚
â”œâ”€â”€ __tests__/                  # ğŸ§ª Tests
â”‚   â”œâ”€â”€ services/
â”‚   â”œâ”€â”€ components/
â”‚   â””â”€â”€ hooks/
â”‚
â””â”€â”€ docs/                       # ğŸ“š Documentation
    â”œâ”€â”€ architecture/
    â”œâ”€â”€ guides/
    â””â”€â”€ api/
```

---

**Elaborado por:** GitHub Copilot - Senior Architect  
**Fecha:** 9 de febrero, 2026  
**VersiÃ³n:** 1.0
